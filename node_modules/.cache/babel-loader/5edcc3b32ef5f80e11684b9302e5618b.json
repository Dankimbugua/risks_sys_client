{"ast":null,"code":"var _jsxFileName = \"/home/nathy/React_Apps/demo_1/src/pages/trader/Finances/Withdraw.js\";\nimport React, { Component } from 'react';\nimport { Form, Modal, Button } from 'react-bootstrap';\nimport { connect } from \"react-redux\";\nimport { TraderWithdraw } from '../../redux/Action';\nimport SimpleReactValidator from 'simple-react-validator';\n\nclass Withdraw extends Component {\n  constructor() {\n    super();\n\n    this.changeHandler = event => {\n      //event.preventDefault()\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.onsubmit = async event => {\n      event.preventDefault();\n\n      if (this.state.amount > this.props.bal) {\n        this.setState({\n          show: true,\n          message: 'You cannot withdraw more than your wallet balance'\n        });\n      } else {\n        await this.props.TraderDeposit(this.state.amount, this.props.AuthUser.id);\n        this.setState({\n          show: true\n        });\n      }\n    };\n\n    this.state = {\n      amount: '',\n      payment_option: '',\n      acc_no: '',\n      email: '',\n      phone: '',\n      message: '',\n      show: false\n    };\n    this.validator = new SimpleReactValidator();\n  }\n\n  render() {\n    const PaymentSwitch = () => {\n      switch (this.state.payment_option) {\n        case 'M-PESA':\n          return /*#__PURE__*/React.createElement(Form.Group, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"label\", {\n            htmlFor: \"exampleInputUsername1\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }\n          }, \"Phone No\"), /*#__PURE__*/React.createElement(Form.Control, {\n            type: \"text\",\n            id: \"exampleInputUsername1\",\n            placeholder: \"Enter valid mpesa phone.\",\n            size: \"lg\",\n            name: \"phone\",\n            value: this.state.phone,\n            onChange: this.changeHandler,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }\n          }));\n\n        case 'paypal':\n          return /*#__PURE__*/React.createElement(Form.Group, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"label\", {\n            htmlFor: \"exampleInputUsername1\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }\n          }, \"Paypal Email\"), /*#__PURE__*/React.createElement(Form.Control, {\n            type: \"text\",\n            id: \"exampleInputUsername1\",\n            placeholder: \"Enter your paypal email\",\n            size: \"lg\",\n            name: \"email\",\n            value: this.state.email,\n            onChange: this.changeHandler,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 19\n            }\n          }));\n\n        default:\n          return /*#__PURE__*/React.createElement(Form.Group, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"label\", {\n            htmlFor: \"exampleInputUsername1\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }\n          }, \"Account No\"), /*#__PURE__*/React.createElement(Form.Control, {\n            type: \"text\",\n            id: \"exampleInputUsername1\",\n            placeholder: \"Enter Bank Account no.\",\n            size: \"lg\",\n            name: \"acc_no\",\n            value: this.state.acc_no,\n            onChange: this.changeHandler,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }\n          }));\n      }\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"page-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }\n    }, \" Risksys Withdrawal\"), /*#__PURE__*/React.createElement(\"nav\", {\n      \"aria-label\": \"breadcrumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"ol\", {\n      className: \"breadcrumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"!#\",\n      onClick: event => event.preventDefault(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 57\n      }\n    }, \"Forms\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item active\",\n      \"aria-current\": \"page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, \"Form elements\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: () => this.setState({\n        show: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }, \"withdrawal\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, \"Withdrawal processing Initiated...\"), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => this.setState({\n        show: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }, \"Okay\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 offset-md-3 grid-margin stretch-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, \"Withdraw Form\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"forms-sample\",\n      onSubmit: this.onsubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleInputUsername1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, \"Amount\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      id: \"exampleInputUsername1\",\n      placeholder: \"Enter Amount\",\n      size: \"lg\",\n      name: \"amount\",\n      value: this.state.amount,\n      onFocus: () => this.validator.showMessageFor('amount'),\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    })), this.validator.message('amount', this.state.amount, 'required|numeric|min:0'), this.validator.allValid() ? /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    }, \"Submit\") : /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary mr-2\",\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 19\n      }\n    }, \"Submit\")))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    AuthUser: state.Auth.user,\n    Token: state.Auth.token,\n    bal: state.Auth.trader_acc_balance\n  };\n};\n\nconst mapDispatchToProps = {\n  TraderWithdraw\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Withdraw);","map":{"version":3,"sources":["/home/nathy/React_Apps/demo_1/src/pages/trader/Finances/Withdraw.js"],"names":["React","Component","Form","Modal","Button","connect","TraderWithdraw","SimpleReactValidator","Withdraw","constructor","changeHandler","event","setState","target","name","value","onsubmit","preventDefault","state","amount","props","bal","show","message","TraderDeposit","AuthUser","id","payment_option","acc_no","email","phone","validator","render","PaymentSwitch","showMessageFor","allValid","mapStateToProps","Auth","user","Token","token","trader_acc_balance","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Form,Modal,Button } from 'react-bootstrap'\nimport { connect } from \"react-redux\"\nimport {TraderWithdraw} from '../../redux/Action'\nimport SimpleReactValidator from 'simple-react-validator';\n\n class Withdraw extends Component {\n\n  constructor(){\n    super()\n    this.state = {\n        amount: '',\n        payment_option:'',\n        acc_no:'',\n        email:'',\n        phone:'',\n        message:'',\n        show:false\n      }\n\n      this.validator = new SimpleReactValidator()\n\n    }\n      changeHandler = event => {\n        //event.preventDefault()\n        this.setState({ [event.target.name]: event.target.value })\n\n      }\n\n        onsubmit=async (event)=>{\n            event.preventDefault()\n            if(this.state.amount > this.props.bal){\n              this.setState({show:true,message:'You cannot withdraw more than your wallet balance'})\n\n            }\n            else{\n            await this.props.TraderDeposit(this.state.amount,this.props.AuthUser.id)\n                 \n            this.setState({show:true})\n            }\n        }\n    render() {\n\n      const PaymentSwitch=()=>{\n\n        switch(this.state.payment_option){\n\n            case 'M-PESA':\n              return(\n\n                <Form.Group>\n                <label htmlFor=\"exampleInputUsername1\">Phone No</label>\n                <Form.Control\n                 type=\"text\"\n                  id=\"exampleInputUsername1\"\n                   placeholder=\"Enter valid mpesa phone.\"\n                    size=\"lg\"\n                    name=\"phone\"\n                     value={this.state.phone} \n                      onChange={this.changeHandler}\n            \n                      />\n              </Form.Group>\n\n              )\n\n              case 'paypal':\n                return(\n                  <Form.Group>\n                  <label htmlFor=\"exampleInputUsername1\">Paypal Email</label>\n                  <Form.Control\n                   type=\"text\"\n                    id=\"exampleInputUsername1\"\n                     placeholder=\"Enter your paypal email\"\n                      size=\"lg\"\n                      name=\"email\"\n                       value={this.state.email} \n                        onChange={this.changeHandler}\n              \n                        />\n                </Form.Group>\n                )\n\n                default:\n                  return(\n\n              <Form.Group>\n              <label htmlFor=\"exampleInputUsername1\">Account No</label>\n              <Form.Control\n               type=\"text\"\n                id=\"exampleInputUsername1\"\n                 placeholder=\"Enter Bank Account no.\"\n                  size=\"lg\"\n                  name=\"acc_no\"\n                   value={this.state.acc_no} \n                    onChange={this.changeHandler}\n          \n                    />\n            </Form.Group>\n                  )\n        }\n      }\n        return (\n            <div>\n                  <div className=\"page-header\">\n                    <h3 className=\"page-title\"> Risksys Withdrawal</h3>\n                    <nav aria-label=\"breadcrumb\">\n                        <ol className=\"breadcrumb\">\n                        <li className=\"breadcrumb-item\"><a href=\"!#\" onClick={event => event.preventDefault()}>Forms</a></li>\n                        <li className=\"breadcrumb-item active\" aria-current=\"page\">Form elements</li>\n                        </ol>\n                    </nav>\n                 </div>\n\n\n                <div className=\"row\">\n\n                <Modal show={this.state.show} onHide={()=>this.setState({show:false})}>\n                        <Modal.Header closeButton>\n                        <Modal.Title>withdrawal</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body>Withdrawal processing Initiated...</Modal.Body>\n                        <Modal.Footer>\n                        <Button variant=\"primary\" onClick={()=>this.setState({show:false})}>\n                            Okay\n                        </Button>\n                        \n                        </Modal.Footer>\n                    </Modal>\n                <div className=\"col-md-6 offset-md-3 grid-margin stretch-card\">\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <h4 className=\"card-title\">Withdraw Form</h4>\n                <form className=\"forms-sample\" onSubmit={this.onsubmit}>\n                  <Form.Group>\n                    <label htmlFor=\"exampleInputUsername1\">Amount</label>\n                    <Form.Control\n                     type=\"text\"\n                      id=\"exampleInputUsername1\"\n                       placeholder=\"Enter Amount\"\n                        size=\"lg\"\n                        name=\"amount\"\n                         value={this.state.amount} \n                         onFocus={()=>this.validator.showMessageFor('amount')}\n                          onChange={this.changeHandler}/>\n                  </Form.Group>\n                  {this.validator.message('amount', this.state.amount, 'required|numeric|min:0')}\n\n                  {/* <Form.Group>\n                  <label htmlFor=\"exampleInputUsername1\">Payment Platform</label>\n                            <Form.Control as=\"select\" custom=\"true\"  name=\"payment_option\" value={this.state.payment_option}  onChange={this.changeHandler}>\n                            <option  value=\"\">Select Payment option </option>\n                            <option  value=\"paypal\">Paypal </option>\n                            <option value=\"M-PESA\">M-PESA</option>\n                            <option value=\"pesa_link\">Pesa Link</option>\n                            <option value=\"card\">MASTER/VISA</option>\n      \n                              </Form.Control>\n                  </Form.Group>\n\n                  {this.state.payment_option ? <PaymentSwitch/> : null} */}\n                 \n                  {this.validator.allValid() ?\n                  <button type=\"submit\" className=\"btn btn-primary mr-2\" >Submit</button>\n                  : \n                  <button type=\"submit\" className=\"btn btn-primary mr-2\" disabled>Submit</button>\n\n                  }                \n                  </form>\n              </div>\n            </div>\n          </div>\n                </div>\n\n\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps=(state)=>{\n  return{\n    AuthUser:state.Auth.user, \n    Token:state.Auth.token ,\n    bal:state.Auth.trader_acc_balance\n\n  }\n}\nconst mapDispatchToProps={\n  \n  TraderWithdraw\n\n\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Withdraw)"]},"metadata":{},"sourceType":"module"}