{"ast":null,"code":"var _jsxFileName = \"/home/nathy/React_Apps/demo_1/src/pages/frontend/Recovery.js\";\nimport React, { Component } from 'react';\nimport SimpleReactValidator from 'simple-react-validator';\nimport logo from '../../assets/img/knight.png';\nimport './../App.css';\nimport axios from 'axios';\nimport { Modal, Button } from 'react-bootstrap';\nimport { Redirect, withRouter } from \"react-router-dom\";\n\nclass Recovery extends Component {\n  constructor(props) {\n    super(props);\n\n    this.recover_password = async event => {\n      event.preventDefault();\n\n      if (this.props.match.params.user == 'client') {\n        await axios.post('https://api.sortika.com/client/recover_password', {\n          token: this.props.match.params.token,\n          email: this.props.match.params.email,\n          new_password: this.state.password\n        }).then(res => {\n          console.log(res);\n\n          switch (res.status) {\n            case 201:\n              this.setState({\n                message: 'Password successfully changed!',\n                show: true\n              });\n              break;\n\n            case 203:\n              this.setState({\n                message: res.data.message,\n                show: true\n              });\n              break;\n\n            default:\n              this.setState({\n                message: 'Server error',\n                show: true\n              });\n          }\n        }).catch(err => console.log(err));\n      } else {\n        await axios.post('https://api.sortika.com/trader/recover_password', {\n          token: this.state.token,\n          email: this.state.email,\n          new_password: this.state.password\n        }).then(res => {\n          console.log(res);\n\n          switch (res.status) {\n            case 201:\n              this.setState({\n                message: 'Password successfully changed!',\n                show: true\n              });\n              break;\n\n            case 203:\n              this.setState({\n                message: res.data.message,\n                show: true\n              });\n              break;\n\n            case 204:\n              this.setState({\n                message: res.data.message,\n                show: true\n              });\n              break;\n\n            default:\n              this.setState({\n                message: 'Server error',\n                show: true\n              });\n          }\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.changeHandler = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      password: '',\n      show: false,\n      message: ''\n    };\n    this.validator = new SimpleReactValidator();\n  }\n\n  componentDidMount() {\n    console.log(this.props.match.params.token + ' ' + this.props.match.params.email);\n  }\n\n  redirect() {\n    this.setState({\n      show: false\n    });\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 10\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      id: \"topbar\",\n      className: \"d-none d-lg-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contact-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icofont-envelope\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"diff-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 45\n      }\n    }, \"contact@knightingale.ke\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icofont-phone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }, \"+254 7000 0000\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"social-links  dyv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"twitter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icofont-twitter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"facebook\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icofont-facebook\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 42\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"instagram\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icofont-instagram\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 43\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"skype\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icofont-skype\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 39\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"linkedin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icofont-linkedin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 42\n      }\n    })))))), /*#__PURE__*/React.createElement(\"header\", {\n      id: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"index.html\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      alt: \"\",\n      className: \"img-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 36\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"header-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    }, \"RISK SYS\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"nav-menu \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"index.html\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 34\n      }\n    }, \"Home\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#about\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, \"About Us\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#services\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, \"Services\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#portfolio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, \"Portfolio\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#team\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 15\n      }\n    }, \"Team\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#contact\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, \"Contact Us\"))))))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"hero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: () => this.setState({\n        show: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 25\n      }\n    }, \"Recover Password\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 25\n      }\n    }, this.state.message), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 25\n      }\n    }, \" You can now signin with your new password\")), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => this.redirect(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 25\n      }\n    }, \"Okay\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"signin\",\n      onSubmit: this.recover_password,\n      noValidate: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }, \"Change Password\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 21\n      }\n    }, \"New Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      className: \"form-control\",\n      value: this.state.password,\n      onChange: this.changeHandler,\n      onBlur: () => this.validator.showMessageFor('password'),\n      placeholder: \"Enter password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    })), this.validator.message('password', this.state.password, 'required|min:6'), this.validator.allValid() ? /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }\n    }, \"Submit\") : /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-lg\",\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }\n    }, \"Submit\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }\n    }))));\n  }\n\n}\n\nexport default withRouter(Recovery);","map":{"version":3,"sources":["/home/nathy/React_Apps/demo_1/src/pages/frontend/Recovery.js"],"names":["React","Component","SimpleReactValidator","logo","axios","Modal","Button","Redirect","withRouter","Recovery","constructor","props","recover_password","event","preventDefault","match","params","user","post","token","email","new_password","state","password","then","res","console","log","status","setState","message","show","data","catch","err","changeHandler","target","name","value","validator","componentDidMount","redirect","render","showMessageFor","allValid"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport SimpleReactValidator from 'simple-react-validator';\nimport logo from '../../assets/img/knight.png';\nimport './../App.css';\nimport axios from 'axios'\nimport {Modal,Button}from 'react-bootstrap'\nimport { Redirect,withRouter} from \"react-router-dom\";\n\n class Recovery extends Component {\n  constructor(props){\n    super(props)\n    this.state={\n        password:'',\n        show:false,\n        message:''\n    }\n  \n    this.validator = new SimpleReactValidator()\n}\n\n\ncomponentDidMount(){\n\n  console.log(this.props.match.params.token+' '+this.props.match.params.email)\n\n\n}\nrecover_password=async(event)=>{\n\n  event.preventDefault()\n\nif(this.props.match.params.user == 'client'){\n  await axios.post('https://api.sortika.com/client/recover_password',\n  {\n    token:this.props.match.params.token,\n    email:this.props.match.params.email,\n    new_password:this.state.password\n  }).then((res)=>{\n    console.log(res)\n    switch(res.status){\n      case 201:\n          this.setState({message:'Password successfully changed!',show:true})\n      break\n      case 203:\n            this.setState({message:res.data.message,show:true})\n      break\n\n        default:\n            this.setState({message:'Server error',show:true})\n\n    }\n  }).catch(err=> console.log(err))\n}\nelse {\n\n  await axios.post('https://api.sortika.com/trader/recover_password',\n  {\n    token:this.state.token,\n    email:this.state.email,\n    new_password:this.state.password\n  }).then((res)=>{\n    console.log(res)\n\n    switch(res.status){\n      case 201:\n          this.setState({message:'Password successfully changed!',show:true})\n      break\n      case 203:\n            this.setState({message:res.data.message,show:true})\n      break\n\n        case 204:\n          \n            this.setState({message:res.data.message,show:true})\n        break\n        default:\n            this.setState({message:'Server error',show:true})\n\n    }\n    \n  }).catch(err=> console.log(err))\n\n}\n\n\n}\n\nchangeHandler = event => {\n  this.setState({ [event.target.name]: event.target.value });\n}\n\nredirect(){\n  this.setState({show:false})\n\n  return <Redirect to=\"/\" />\n}\n\n  render() {\n    return (\n      <div>\n                \n  <section id=\"topbar\" className=\"d-none d-lg-block\">\n    <div className=\"row\">\n    <div className=\"col-md-4\">\n    <div className=\"container clearfix\">\n      <div className=\"contact-info\">\n        <i className=\"icofont-envelope\"></i><span className=\"diff-link\" >contact@knightingale.ke</span>\n        <i className=\"icofont-phone\"></i>\n        <span>+254 7000 0000</span>\n         {/* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */}\n         \n       \n         </div>\n         {/* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */}\n         \n\n       \n       \n           </div>\n           </div>\n       <div className=\"col-md-4\"></div>\n       <div className=\"col-md-4\">\n      <div className=\"social-links  dyv\">\n      \n        <a href=\"#\" className=\"twitter\"><i className=\"icofont-twitter\"></i></a>\n        <a href=\"#\" className=\"facebook\"><i className=\"icofont-facebook\"></i></a>\n        <a href=\"#\" className=\"instagram\"><i className=\"icofont-instagram\"></i></a>\n        <a href=\"#\" className=\"skype\"><i className=\"icofont-skype\"></i></a>\n        <a href=\"#\" className=\"linkedin\"><i className=\"icofont-linkedin\"></i></a>\n      </div>\n      </div>\n    </div>\n\n    \n  </section>\n\n\n  <header id=\"header\">\n   <div className=\"row\">\n    {/* <div className=\"container\"> */}\n\n      {/* <div className=\"logo float-left\"> </div> */}\n        <div className=\"col-md-3\">\n          <div className=\"logo\">\n              <a href=\"index.html\"><img src={logo} alt=\"\" className=\"img-fluid\"/>\n            <span className=\"header-title\">RISK SYS</span>\n            </a>\n          </div>\n        </div>\n        <div className=\"col-md-3\">\n        </div>\n        <div className=\"col-md-6\">\n\n             <nav className=\"nav-menu \">\n        <ul>\n          <li className=\"active\"><a href=\"index.html\">Home</a></li>\n          <li><a href=\"#about\">About Us</a></li>\n          <li><a href=\"#services\">Services</a></li>\n          <li><a href=\"#portfolio\">Portfolio</a></li>\n          <li><a href=\"#team\">Team</a></li>\n          {/* <li className=\"drop-down\"><a href=\"\">Sign In</a>\n            <ul>\n              <li><a href=\"#\" onClick={()=>this.onOpenModal('opensignin','trader')}>Trader</a></li>\n              <li><a href=\"#\" onClick={()=>this.onOpenModal('opensignin','client')}>Client</a></li>\n             \n            </ul>\n          </li> */}\n          <li><a href=\"#contact\">Contact Us</a></li>\n        </ul>\n      </nav>\n        </div>\n     \n      {/* </div> */}\n    </div>\n        \n  </header>\n  {/* <section id=\"topbar\" className=\"d-none d-lg-block\">\n   \n  </section> */}\n    <br/><br/>\n\n    <section id=\"hero\">\n\n    <Modal show={this.state.show} onHide={()=>this.setState({show:false})}>\n                        <Modal.Header closeButton>\n                        <Modal.Title>Recover Password</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body>\n                        <h3>{this.state.message}</h3>\n                        <p> You can now signin with your new password</p>\n                        \n                        </Modal.Body>\n                        <Modal.Footer>\n                        <Button variant=\"primary\" onClick={()=>this.redirect()}>\n                            Okay\n                        </Button>\n                        \n                        </Modal.Footer>\n                    </Modal>\n        <div className=\"row\">\n          <div className=\"col-md-3\"></div>\n          <div className=\"col-md-6\">\n          <form className=\"signin\" \n           onSubmit={this.recover_password}\n                  noValidate>\n                <h3>Change Password</h3>\n\n\n                <div className=\"form-group\">\n                    <label>New Password</label>\n                    <input \n                    name=\"password\"\n                        type=\"password\" \n                     className=\"form-control\"\n                     value={this.state.password}\n                     onChange={this.changeHandler}\n                     onBlur={()=>this.validator.showMessageFor('password')}\n                    placeholder=\"Enter password\" />\n                </div>\n                {this.validator.message('password', this.state.password, 'required|min:6')}\n\n                {/* <div className=\"form-group\">\n                    <div className=\"custom-control custom-checkbox\">\n                        <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\" />\n                        <label className=\"custom-control-label\" htmlFor=\"customCheck1\">Remember me</label>\n                    </div>\n                </div> */}\n\n                {this.validator.allValid()?\n                <button type=\"submit\" className=\"btn btn-primary btn-lg\">Submit</button>\n                :\n                <button type=\"submit\" className=\"btn btn-primary btn-lg\" disabled>Submit</button>\n\n                }\n                \n            </form>\n          </div>\n          <div className=\"col-md-3\"></div>\n        </div>\n\n    </section>\n\n\n\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Recovery)"]},"metadata":{},"sourceType":"module"}