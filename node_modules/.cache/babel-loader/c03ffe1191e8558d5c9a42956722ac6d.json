{"ast":null,"code":"import axios from 'axios';\nimport { MyfxbookApi } from 'myfxbook-api-client'; //Auth Actions\n\nexport const registerStart = () => ({\n  type: 'REGISTER_START'\n});\nexport const registerFinished = (user, token) => ({\n  type: 'REGISTER_FINISHED',\n  user,\n  token\n});\nexport const registerError = error => ({\n  type: 'REGISTER_ERROR',\n  error\n});\nexport const registerClientUser = (username, email, pass) => async dispatch => {\n  dispatch(registerStart());\n  await axios.post('https://api.sortika.com/client/register', {\n    username: username,\n    email: email,\n    password: pass\n  }).then(async res => {\n    console.log(res.data);\n    await dispatch(registerFinished(res.data.user, res.data.access_token));\n  }).catch(error => {\n    console.log(error);\n    dispatch(registerError(error));\n  });\n};\nexport const registerTraderUser = (username, email, pass) => async dispatch => {\n  dispatch(registerStart());\n  console.log('startinggg.....');\n  const client = new MyfxbookApi({\n    email: email,\n    password: pass\n  }); // let myfxerror;\n\n  await client.getMyAccounts().then(data => {\n    console.log(data); // myfxerror=data.error\n  }).catch(error => {\n    console.log('error', error);\n  });\n  console.log('endinggg.....'); //   if(!myfxerror){\n  //       await axios.post('https://api.sortika.com/trader/register',\n  //       {\n  //         username:username,\n  //         email:email,\n  //         password:pass\n  //       })\n  //       .then( async(res)=>{ \n  //         console.log(res.data)\n  //           await  dispatch(registerFinished(res.data.user,res.data.access_token))\n  //           })\n  //   .catch ((error) =>{\n  //     console.log(error);\n  //     dispatch(registerError(error))\n  //   })\n  // }\n};\nexport const loginStart = () => ({\n  type: 'LOGIN_START'\n});\nexport const loginFinished = (user, token) => ({\n  type: 'LOGIN_FINISHED',\n  user,\n  token\n});\nexport const loginError = error => ({\n  type: 'LOGIN_ERROR',\n  error\n});\nexport const loginUser = (email, pass) => async dispatch => {\n  dispatch(loginStart());\n  await axios.post('https://api.sortika.com/client/login', {\n    email: email,\n    password: pass\n  }).then(async res => {\n    console.log(res.data);\n    await dispatch(loginFinished(res.data.user, res.data.access_token));\n  }).catch(error => {\n    console.log(error);\n    dispatch(loginError(error));\n  });\n};\nexport const logoutStart = () => ({\n  type: 'LOGOUT_START'\n});\nexport const logoutFinished = () => ({\n  type: 'LOGOUT_FINISHED'\n});\nexport const logoutError = error => ({\n  type: 'LOGOUT_ERROR',\n  error\n});\nexport const logoutUser = token => async dispatch => {\n  console.log('logging out>>>');\n  dispatch(logoutStart()); // try {\n\n  await axios.post('https://api.sortika.com/client/logout?token=' + token).then(() => {\n    dispatch(logoutFinished());\n  }).catch(error => {\n    dispatch(logoutError(error));\n  });\n};","map":{"version":3,"sources":["/home/nathy/React_Apps/demo_1/src/pages/redux/Action.js"],"names":["axios","MyfxbookApi","registerStart","type","registerFinished","user","token","registerError","error","registerClientUser","username","email","pass","dispatch","post","password","then","res","console","log","data","access_token","catch","registerTraderUser","client","getMyAccounts","loginStart","loginFinished","loginError","loginUser","logoutStart","logoutFinished","logoutError","logoutUser"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport { MyfxbookApi } from 'myfxbook-api-client';\n\n    //Auth Actions\n    export const registerStart = () => ({\n      type: 'REGISTER_START',\n    })\n    \n    export const registerFinished = (user,token) => ({\n      type: 'REGISTER_FINISHED',\n      user,\n      token\n    })\n    \n    export const registerError = error => ({\n      type:'REGISTER_ERROR',\n      error\n    })\n   export const registerClientUser =  (username,email,pass) => async(dispatch)=>{\n      dispatch(registerStart())\n\n      \n      \n      await axios.post('https://api.sortika.com/client/register',\n      {\n        username:username,\n        email:email,\n        password:pass\n      })\n      .then( async(res)=>{ \n             \n        console.log(res.data)\n           await  dispatch(registerFinished(res.data.user,res.data.access_token))\n          })\n          \n  .catch ((error) =>{\n    \n    console.log(error);\n    dispatch(registerError(error))\n \n    \n  })\n    }\n   export const registerTraderUser =  (username,email,pass) => async(dispatch)=>{\n      dispatch(registerStart())\n    console.log('startinggg.....')\n      const client = new MyfxbookApi({ email:email, password:pass});\n      // let myfxerror;\n        await client.getMyAccounts()\n        .then(data => {\n          console.log(data)\n          // myfxerror=data.error\n        })\n        .catch(error => {\n          console.log('error', error);\n        });\n        console.log('endinggg.....')\n \n      //   if(!myfxerror){\n      //       await axios.post('https://api.sortika.com/trader/register',\n      //       {\n      //         username:username,\n      //         email:email,\n      //         password:pass\n      //       })\n      //       .then( async(res)=>{ \n                  \n      //         console.log(res.data)\n      //           await  dispatch(registerFinished(res.data.user,res.data.access_token))\n      //           })\n                \n      //   .catch ((error) =>{\n          \n      //     console.log(error);\n      //     dispatch(registerError(error))\n      \n          \n      //   })\n      // }\n    }\n    export const loginStart = () => ({\n        type: 'LOGIN_START',\n      })\n      \n      export const loginFinished = (user,token) => ({\n        type: 'LOGIN_FINISHED',\n        user,\n        token\n      })\n      \n      export const loginError = error => ({\n        type:'LOGIN_ERROR',\n        error\n      })\n      export const loginUser =  (email,pass) => async(dispatch)=>{\n        dispatch(loginStart())\n        \n        await axios.post('https://api.sortika.com/client/login',\n        {\n          email:email,\n          password:pass\n        })\n        .then( async(res)=>{ \n               \n          console.log(res.data)\n             await  dispatch(loginFinished(res.data.user,res.data.access_token))\n            })\n            \n    .catch ((error) =>{\n      \n      console.log(error);\n      dispatch(loginError(error))\n   \n      \n    })\n      }\n\n      export const logoutStart = () => ({\n        type: 'LOGOUT_START'\n      })\n      \n     export const logoutFinished = () => ({\n        type: 'LOGOUT_FINISHED'\n      })\n      \n      export const logoutError = error => ({\n        type: 'LOGOUT_ERROR',\n        error\n      })\n\n  export const logoutUser =  (token) => async(dispatch) => {\n    console.log('logging out>>>')\n    dispatch(logoutStart())\n    // try {\n    await  axios.post('https://api.sortika.com/client/logout?token='+token)\n    .then(() => {\n        dispatch(logoutFinished())\n    }).catch((error)=>{\n\n        dispatch(logoutError(error))\n\n    })\n    }"]},"metadata":{},"sourceType":"module"}